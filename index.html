<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valgbar ‚Äì V√¶lg valg</title>

  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --vb-navy:#234a5a;
      --vb-navy-2:#1b3d4d;
    }
    .vb-card{ background:#fff; border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 1px 2px rgba(16,24,40,.04); }
    .vb-btn{ display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .75rem; border:1px solid #e5e7eb; border-radius:12px; background:#fff; }
    .vb-btn:disabled{ opacity:.5; cursor:not-allowed; }
    .vb-hero{ background:linear-gradient(180deg, var(--vb-navy) 0%, var(--vb-navy-2) 100%); color:#fff; }
    .vb-tile:hover{ box-shadow:0 8px 24px rgba(0,0,0,.08); border-color:#d1d5db; transform:translateY(-1px); }
    .vb-chip{ font-size:.75rem; padding:.15rem .5rem; border-radius:9999px; border:1px solid #e5e7eb; color:#374151; background:#f9fafb; }
  </style>
</head>

<body class="bg-gray-50 text-gray-900">
  <!-- HEADER -->
  <header class="vb-hero">
    <div class="mx-auto max-w-6xl px-4 py-6 flex items-center gap-4">
      <a href="./" class="flex items-center gap-3">
        <img src="Valgbar-transparent3.png" alt="Valgbar" class="h-32 w-auto" />
      </a>
    </div>

    <div class="mx-auto max-w-6xl px-4 pb-10">
      <p class="text-white/80 text-base md:text-lg">
        V√¶lg et valg for at se data ‚Äì og dyk ned p√• partier, kandidater og resultater.
      </p>
    </div>
  </header>

  <!-- INDHOLD -->
  <main class="mx-auto max-w-6xl p-4 space-y-6">
    <!-- Valgtype-kort -->
    <section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
      <!-- Folketingsvalg -->
      <article class="vb-card vb-tile p-4 flex flex-col gap-3">
        <header class="flex items-start gap-3">
          <div class="rounded-2xl p-2 bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2c-4.97 0-9 2.015-9 4.5S7.03 11 12 11s9-2.015 9-4.5S16.97 2 12 2Zm0 10c-4.97 0-9-2.015-9-4.5V12.5C3 14.985 7.03 17 12 17s9-2.015 9-4.5V7.5C21 9.985 16.97 12 12 12Zm0 6c-4.97 0-9-2.015-9-4.5V19.5C3 21.985 7.03 24 12 24s9-2.015 9-4.5V13.5C21 15.985 16.97 18 12 18Z"/>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-lg font-semibold flex items-center gap-2">Folketingsvalg <span class="vb-chip">Kommer snart</span></h2>
            <p class="text-sm text-gray-600">Landsd√¶kkende data p√• partier og kandidater.</p>
          </div>
        </header>
        <div class="mt-1">
          <label class="text-sm text-gray-700">√Ör</label>
          <select id="year-ft" class="w-full mt-1 rounded-xl border p-2" disabled>
          </select>
        </div>
        <div class="mt-auto flex gap-2">
          <button data-open="ft" class="vb-btn" disabled title="Kommer snart">√Öbn</button>
        </div>
      </article>

      <!-- Kommunalvalg -->
      <article class="vb-card vb-tile p-4 flex flex-col gap-3">
        <header class="flex items-start gap-3">
          <div class="rounded-2xl p-2 bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3l9 7h-3v11h-5v-7H11v7H6V10H3l9-7z"/>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-lg font-semibold">Kommunalvalg</h2>
            <p class="text-sm text-gray-600">Sammenlign kandidater p√• tv√¶rs af partier og valgsteder.</p>
          </div>
        </header>
        <div class="mt-1">
          <label class="text-sm text-gray-700">√Ör</label>
          <select id="year-kv" class="w-full mt-1 rounded-xl border p-2">
          </select>
        </div>
        <div class="mt-auto flex gap-2">
          <button data-open="kv" class="vb-btn">
            √Öbn
            <svg class="h-4 w-4 opacity-60" viewBox="0 0 20 20" fill="currentColor"><path d="M10.75 3.5a.75.75 0 00-1.5 0v9.19L6.53 10.97a.75.75 0 10-1.06 1.06l4 4 .01.01a.75.75 0 001.06-.01l3.99-3.99a.75.75 0 10-1.06-1.06l-2.72 2.71V3.5z"/></svg>
          </button>
        </div>
      </article>

      <!-- Regionsr√•dsvalg -->
      <article class="vb-card vb-tile p-4 flex flex-col gap-3">
        <header class="flex items-start gap-3">
          <div class="rounded-2xl p-2 bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 6.5L8 4l8 3 5-2.5v13L16 20l-8-3-5 2.5v-13zM9 6.1L7 6.9v10l2-.8V6.1zm2 .8v10l6 2.2V9.1L11 6.9z"/>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-lg font-semibold flex items-center gap-2">Regionsr√•dsvalg <span class="vb-chip">Kommer snart</span></h2>
            <p class="text-sm text-gray-600">Regionale lister og kandidater.</p>
          </div>
        </header>
        <div class="mt-1">
          <label class="text-sm text-gray-700">√Ör</label>
          <select id="year-rv" class="w-full mt-1 rounded-xl border p-2" disabled>
          </select>
        </div>
        <div class="mt-auto flex gap-2">
          <button data-open="rv" class="vb-btn" disabled title="Kommer snart">√Öbn</button>
        </div>
      </article>

      <!-- Europa-Parlamentsvalg -->
      <article class="vb-card vb-tile p-4 flex flex-col gap-3">
        <header class="flex items-start gap-3">
          <div class="rounded-2xl p-2 bg-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 opacity-70" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l1.8 3.6 4 .6-2.9 2.8.7 4-3.6-1.9-3.6 1.9.7-4L6.2 6.2l4-.6L12 2zM5 10l.9 1.8 2 .3-1.5 1.5.3 2-1.8-.9-1.8.9.3-2L2 12.1l2-.3L5 10zm14 0l1 2 2 .3-1.5 1.5.3 2-1.8-.9-1.8.9.3-2L15 12.3l2-.3 1-2z"/>
            </svg>
          </div>
          <div class="flex-1">
            <h2 class="text-lg font-semibold flex items-center gap-2">Europa-Parlamentsvalg <span class="vb-chip">Kommer snart</span></h2>
            <p class="text-sm text-gray-600">Lister og kandidater p√• tv√¶rs af landet.</p>
          </div>
        </header>
        <div class="mt-1">
          <label class="text-sm text-gray-700">√Ör</label>
          <select id="year-ep" class="w-full mt-1 rounded-xl border p-2" disabled>
          </select>
        </div>
        <div class="mt-auto flex gap-2">
          <button data-open="ep" class="vb-btn" disabled title="Kommer snart">√Öbn</button>
        </div>
      </article>
    </section>

    <!-- Hj√¶lpesektion -->
    <section class="vb-card p-4">
      <h3 class="font-medium mb-2">S√•dan virker det</h3>
      <ol class="list-decimal pl-5 space-y-1 text-sm text-gray-700">
        <li>V√¶lg valgtype og √•r.</li>
        <li>Klik <em>√Öbn</em> for at g√• til den relevante underside.</li>
        <li>For Kommunalvalg v√¶lger du herefter region/kommune.</li>
      </ol>
    </section>
  </main>

  <!-- JS -->
  <script>
    // ‚úÖ DATA_YEARS: hvad der vises i dropdowns
    const DATA_YEARS = {
      ft: [2022],   // kan udvides senere
      kv: [2021],   // virker nu
      rv: [2021],   // placeholder
      ep: [2024]    // placeholder
    };

    // ‚úÖ DEST_URLS: hvor "√Öbn" f√∏rer hen
    // - Kommunalvalg er sat op til at √•bne din eksisterende underside: kv/2021/
    // - De andre er markeret "comingSoon" og deres knapper er deaktiveret
    const DEST_URLS = {
      kv: { useQueryParam:false, perYear: { 2021: 'kv/2021/' } },
      ft: { comingSoon:true },
      rv: { comingSoon:true },
      ep: { comingSoon:true }
    };

    // Helper: s√¶t options i en <select>, nyeste √•r f√∏rst.
    function fillYearSelect(id, years, disabled=false){
      const sel = document.getElementById(id);
      if(!sel) return;
      sel.innerHTML = years.map(y => `<option value="${y}">${y}</option>`).join('');
      sel.value = years[0];
      if(disabled) sel.setAttribute('disabled','disabled'); else sel.removeAttribute('disabled');
    }

    // Init dropdowns
    fillYearSelect('year-ft', DATA_YEARS.ft, DEST_URLS.ft?.comingSoon);
    fillYearSelect('year-kv', DATA_YEARS.kv, false);
    fillYearSelect('year-rv', DATA_YEARS.rv, DEST_URLS.rv?.comingSoon);
    fillYearSelect('year-ep', DATA_YEARS.ep, DEST_URLS.ep?.comingSoon);

    // Routing ved klik p√• "√Öbn"
    function openDestination(type){
      const years = DATA_YEARS[type] || [];
      const yearSel = document.getElementById(`year-${type}`);
      const year = Number(yearSel?.value || years[0]);
      const dest = DEST_URLS[type];

      if(!dest){
        alert('Mangler destinations-URL for denne valgtype.');
        return;
      }

      if(dest.comingSoon){
        alert('Denne sektion kommer snart üôÇ');
        return;
      }

      if(dest.useQueryParam){
        const url = new URL(dest.base, location.href);
        url.searchParams.set('type', type);
        url.searchParams.set('year', String(year));
        location.href = url.toString();
      }else{
        const perYear = dest.perYear || {};
        const url = perYear[year];
        if(!url){
          alert('Ingen fil angivet for det valgte √•r.');
          return;
        }
        location.href = url;
      }
    }

    // H√•ndt√©r alle "√Öbn"-knapper
    document.querySelectorAll('button[data-open]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const type = btn.getAttribute('data-open');
        openDestination(type);
      });
    });

    // Bonus: Enter-tilg√¶ngelighed hvis man st√•r i √•r-dropdowns
    ['ft','kv','rv','ep'].forEach(t=>{
      const sel = document.getElementById(`year-${t}`);
      sel?.addEventListener('keydown', (e)=>{
        if(e.key==='Enter'){ openDestination(t); }
      });
    });
  </script>
</body>
</html>
